{"version":3,"file":"extension.js","sources":["../src/index.js"],"sourcesContent":["class MyExtension {\r\n  constructor() {\r\n    // any instance state can go here\r\n  }\r\n\r\n  sayHello() {\r\n    return \"Hello, world!\";\r\n  }\r\n\r\n  echo(value) {\r\n    return typeof value === \"undefined\" ? \"\" : String(value);\r\n  }\r\n\r\n  getInfo() {\r\n    return {\r\n      id: \"myextension\",\r\n      name: \"My Extension\",\r\n      blocks: [\r\n        {\r\n          opcode: \"sayHello\",\r\n          blockType: \"reporter\",\r\n          text: \"say hello\",\r\n        },\r\n        {\r\n          opcode: \"echo\",\r\n          blockType: \"reporter\",\r\n          text: \"echo [VALUE]\",\r\n          arguments: {\r\n            VALUE: {\r\n              type: \"string\",\r\n              defaultValue: \"hello\",\r\n            },\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  sayHelloOpcode() {\r\n    return this.sayHello();\r\n  }\r\n\r\n  echoOpcode(args) {\r\n    const value = args && args.VALUE !== undefined ? args.VALUE : \"\";\r\n    return this.echo(value);\r\n  }\r\n}\r\n\r\n// ESM default export\r\nexport default MyExtension;\r\n\r\n// CommonJS compatibility\r\nif (typeof module !== \"undefined\" && module.exports) {\r\n  module.exports = MyExtension;\r\n}\r\n\r\n// Register with TurboWarp runtime if present\r\ntry {\r\n  if (\r\n    typeof Scratch !== \"undefined\" &&\r\n    Scratch.extensions &&\r\n    typeof Scratch.extensions.register === \"function\"\r\n  ) {\r\n    const inst = new MyExtension();\r\n    Scratch.extensions.register({\r\n      getInfo: () => inst.getInfo(),\r\n      sayHello: () => inst.sayHello(),\r\n      echo: (args) => inst.echo(args && args.VALUE),\r\n    });\r\n  }\r\n} catch {\r\n  console.warn(\"Scratch runtime not found.\");\r\n  console.warn(\"Aborted registration.\");\r\n}\r\n"],"names":[],"mappings":";;;EAAA,MAAM,WAAW,CAAC;EAClB,EAAE,WAAW,GAAG;EAChB;EACA,EAAE,CAAC;AACH;EACA,EAAE,QAAQ,GAAG;EACb,IAAI,OAAO,eAAe,CAAC;EAC3B,EAAE,CAAC;AACH;EACA,EAAE,IAAI,CAAC,KAAK,EAAE;EACd,IAAI,OAAO,OAAO,KAAK,KAAK,WAAW,GAAG,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;EAC7D,EAAE,CAAC;AACH;EACA,EAAE,OAAO,GAAG;EACZ,IAAI,OAAO;EACX,MAAM,EAAE,EAAE,aAAa;EACvB,MAAM,IAAI,EAAE,cAAc;EAC1B,MAAM,MAAM,EAAE;EACd,QAAQ;EACR,UAAU,MAAM,EAAE,UAAU;EAC5B,UAAU,SAAS,EAAE,UAAU;EAC/B,UAAU,IAAI,EAAE,WAAW;EAC3B,SAAS;EACT,QAAQ;EACR,UAAU,MAAM,EAAE,MAAM;EACxB,UAAU,SAAS,EAAE,UAAU;EAC/B,UAAU,IAAI,EAAE,cAAc;EAC9B,UAAU,SAAS,EAAE;EACrB,YAAY,KAAK,EAAE;EACnB,cAAc,IAAI,EAAE,QAAQ;EAC5B,cAAc,YAAY,EAAE,OAAO;EACnC,aAAa;EACb,WAAW;EACX,SAAS;EACT,OAAO;EACP,KAAK,CAAC;EACN,EAAE,CAAC;AACH;EACA,EAAE,cAAc,GAAG;EACnB,IAAI,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;EAC3B,EAAE,CAAC;AACH;EACA,EAAE,UAAU,CAAC,IAAI,EAAE;EACnB,IAAI,MAAM,KAAK,GAAG,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;EACrE,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC5B,EAAE,CAAC;EACH,CAAC;AAID;EACA;EACA,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,OAAO,EAAE;EACrD,EAAE,MAAM,CAAC,OAAO,GAAG,WAAW,CAAC;EAC/B,CAAC;AACD;EACA;EACA,IAAI;EACJ,EAAE;EACF,IAAI,OAAO,OAAO,KAAK,WAAW;EAClC,IAAI,OAAO,CAAC,UAAU;EACtB,IAAI,OAAO,OAAO,CAAC,UAAU,CAAC,QAAQ,KAAK,UAAU;EACrD,IAAI;EACJ,IAAI,MAAM,IAAI,GAAG,IAAI,WAAW,EAAE,CAAC;EACnC,IAAI,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC;EAChC,MAAM,OAAO,EAAE,MAAM,IAAI,CAAC,OAAO,EAAE;EACnC,MAAM,QAAQ,EAAE,MAAM,IAAI,CAAC,QAAQ,EAAE;EACrC,MAAM,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC;EACnD,KAAK,CAAC,CAAC;EACP,EAAE,CAAC;EACH,CAAC,CAAC,MAAM;EACR,EAAE,OAAO,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;EAC7C,EAAE,OAAO,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;EACxC;;;;;;;;"}